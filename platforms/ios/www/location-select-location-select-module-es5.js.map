{"version":3,"sources":["./src/app/location-select/location-select.page.html","./src/app/location-select/location-select-routing.module.ts","./src/app/location-select/location-select.module.ts","./src/app/location-select/location-select.page.scss","./src/app/location-select/location-select.page.ts"],"names":[],"mappings":"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","file":"location-select-location-select-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n          </ion-buttons>\\n        <ion-buttons right>\\n            <button [disabled]=\\\"saveDisabled\\\" ion-button (click)=\\\"save()\\\">Save</button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n\\n    <ion-toolbar>\\n        <ion-searchbar [(ngModel)]=\\\"query\\\" (ionInput)=\\\"searchPlace()\\\"></ion-searchbar>\\n    </ion-toolbar>\\n\\n    <ion-list>\\n        <ion-item *ngFor=\\\"let place of places\\\" (touchstart)=\\\"selectPlace(place)\\\">{{place.description}}</ion-item>\\n    </ion-list>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div #pleaseConnect id=\\\"please-connect\\\">\\n        <p>Please connect to the Internet...</p>\\n    </div>\\n\\n    <div #map id=\\\"map\\\">\\n        <ion-spinner></ion-spinner>\\n    </div>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LocationSelectPage } from './location-select.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationSelectPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationSelectPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationSelectPageRoutingModule } from './location-select-routing.module';\n\nimport { LocationSelectPage } from './location-select.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LocationSelectPageRoutingModule\n  ],\n  declarations: [LocationSelectPage]\n})\nexport class LocationSelectPageModule {}\n","module.exports = \"page-location-select ion-list {\\n  margin: 0 !important;\\n}\\npage-location-select #please-connect {\\n  position: absolute;\\n  background-color: #000;\\n  opacity: 0.5;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1;\\n}\\npage-location-select #please-connect p {\\n  color: #fff;\\n  font-weight: bold;\\n  text-align: center;\\n  position: relative;\\n  font-size: 1.6em;\\n  top: 30%;\\n}\\npage-location-select .scroll-content {\\n  overflow: hidden;\\n}\\npage-location-select #map {\\n  width: 100%;\\n  height: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWZldGFuZHJlc2dhbHZlenF1ZXphZGEvRHJvcGJveC9Qcm95ZWN0b3NJb25pYy9BcHBDb21wcmFCb2xldG9zL3NyYy9hcHAvbG9jYXRpb24tc2VsZWN0L2xvY2F0aW9uLXNlbGVjdC5wYWdlLnNjc3MiLCJzcmMvYXBwL2xvY2F0aW9uLXNlbGVjdC9sb2NhdGlvbi1zZWxlY3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0Usb0JBQUE7QUNETjtBRElJO0VBQ0Usa0JBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7QUNGTjtBREtJO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsUUFBQTtBQ0hSO0FETUk7RUFDSSxnQkFBQTtBQ0pSO0FET0k7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDTFIiLCJmaWxlIjoic3JjL2FwcC9sb2NhdGlvbi1zZWxlY3QvbG9jYXRpb24tc2VsZWN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInBhZ2UtbG9jYXRpb24tc2VsZWN0IHtcblxuICAgIGlvbi1saXN0IHtcbiAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgIH1cbiAgXG4gICAgI3BsZWFzZS1jb25uZWN0IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgfVxuICBcbiAgICAjcGxlYXNlLWNvbm5lY3QgcCB7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGZvbnQtc2l6ZTogMS42ZW07XG4gICAgICAgIHRvcDogMzAlO1xuICAgIH1cbiAgXG4gICAgLnNjcm9sbC1jb250ZW50IHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gIFxuICAgICNtYXAge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG4gIFxuICB9IiwicGFnZS1sb2NhdGlvbi1zZWxlY3QgaW9uLWxpc3Qge1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cbnBhZ2UtbG9jYXRpb24tc2VsZWN0ICNwbGVhc2UtY29ubmVjdCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgb3BhY2l0eTogMC41O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiAxO1xufVxucGFnZS1sb2NhdGlvbi1zZWxlY3QgI3BsZWFzZS1jb25uZWN0IHAge1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBmb250LXNpemU6IDEuNmVtO1xuICB0b3A6IDMwJTtcbn1cbnBhZ2UtbG9jYXRpb24tc2VsZWN0IC5zY3JvbGwtY29udGVudCB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5wYWdlLWxvY2F0aW9uLXNlbGVjdCAjbWFwIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il19 */\"","import { Component, OnInit, ElementRef, ViewChild, NgZone } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { GoogleMapsService } from 'src/services/google-maps.service';\nimport { Platform, NavController, MenuController } from '@ionic/angular'; \n\ndeclare var google; \n@Component({\n  selector: 'app-location-select',\n  templateUrl: './location-select.page.html',\n  styleUrls: ['./location-select.page.scss'],\n})\nexport class LocationSelectPage implements OnInit {\n\n\n\n  @ViewChild('map', {static: false}) mapElement: ElementRef;\n  @ViewChild('pleaseConnect', {static: false}) pleaseConnect: ElementRef;\n\n  latitude: number;\n  longitude: number;\n  autocompleteService: any;\n  placesService: any;\n  query: string = '';\n  places: any = [];\n  searchDisabled: boolean;\n  saveDisabled: boolean;\n  location: any; \n\n  constructor( public zone: NgZone, public maps: GoogleMapsService, public platform: Platform, public geolocation: Geolocation) {\n    this.searchDisabled = true;\n    this.saveDisabled = true;\n   }\n   ionViewDidLoad(): void {\n    console.log(\"entro a ionViewLoad 1\");\n    let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement).then(() => {\nconsole.log(\"entro a ionViewLoad\");\n        this.autocompleteService = new google.maps.places.AutocompleteService();\n        this.placesService = new google.maps.places.PlacesService(this.maps.map);\n        this.searchDisabled = false;\n\n    }); \n\n}\n  ngOnInit() {\n    //   this.ionViewDidLoad();\n  }\n\n\n  selectPlace(place){\n\n    this.places = [];\n\n    let location = {\n        lat: null,\n        lng: null,\n        name: place.name\n    };\n\n    this.placesService.getDetails({placeId: place.place_id}, (details) => {\n\n        this.zone.run(() => {\n\n            location.name = details.name;\n            location.lat = details.geometry.location.lat();\n            location.lng = details.geometry.location.lng();\n            this.saveDisabled = false;\n\n            this.maps.map.setCenter({lat: location.lat, lng: location.lng}); \n\n            this.location = location;\n\n        });\n\n    });\n\n}\n\nsearchPlace(){\n\n    this.saveDisabled = true;\n\n    if(this.query.length > 0 && !this.searchDisabled) {\n\n        let config = {\n            types: ['geocode'],\n            input: this.query\n        }\n\n        this.autocompleteService.getPlacePredictions(config, (predictions, status) => {\n\n            if(status == google.maps.places.PlacesServiceStatus.OK && predictions){\n\n                this.places = [];\n\n                predictions.forEach((prediction) => {\n                    this.places.push(prediction);\n                });\n            }\n\n        });\n\n    } else {\n        this.places = [];\n    }\n\n}\n\n// save(){\n//     this.viewCtrl.dismiss(this.location);\n// }\n\n// close(){\n//     this.viewCtrl.dismiss();\n// }   \n\n\n}\n"],"sourceRoot":""}